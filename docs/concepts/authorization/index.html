<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Authorization using PubNub Access Manager · ChatEngine</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Enable &lt;em&gt;Access Manager&lt;/em&gt; from the &lt;a href=&quot;https://admin.pubnub.com/&quot;&gt;Admin Dashboard&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Authorization using PubNub Access Manager · ChatEngine"/><meta property="og:type" content="website"/><meta property="og:url" content="https://pubnub.github.io/chatengine/"/><meta property="og:description" content="&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Enable &lt;em&gt;Access Manager&lt;/em&gt; from the &lt;a href=&quot;https://admin.pubnub.com/&quot;&gt;Admin Dashboard&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
"/><meta property="og:image" content="https://pubnub.github.io/chatengine/img/chat-engine-logo.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://pubnub.github.io/chatengine/img/chat-engine-logo.png"/><link rel="shortcut icon" href="/chatengine/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/ir-black.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/chat-resource-center/js/language-picker.js"></script><script type="text/javascript" src="/chat-resource-center/js/segment.js"></script><link rel="stylesheet" href="/chatengine/css/main.css"/><script src="/chatengine/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/chatengine/"><img class="logo" src="/chatengine/img/pubnub.svg" alt="ChatEngine"/><h2 class="headerTitleWithLogo">ChatEngine</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/chatengine/docs/overview" target="_self">Documentation</a></li><li class="siteNavGroupActive"><a href="/chatengine/docs/overview" target="_self">Developers</a></li><li class="siteNavGroupActive"><a href="/chatengine/docs/overview" target="_self">SDKs</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search...." title="Search...."/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Concepts</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Overview<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/chatengine/docs/overview">Overview</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/users">Users</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/channels">Channels</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/messages">Messages</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/security">Security</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/functions">Functions</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting Started<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/chatengine/docs/tutorials/tutorial-javascript">JavaScript</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/tutorials/tutorial-swift">Swift</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/tutorials/tutorial-android">Android</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Concepts<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/chatengine/docs/concepts/connecting">Connect to PubNub</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/concepts/channels">Manage Channels</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/concepts/messages">Messages</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/concepts/message-history">Message History</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/concepts/presence">Presence</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/concepts/authentication">P2: Authentication</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/chatengine/docs/concepts/authorization">Authorization</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/concepts/push-notifications">Push Notifications</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/concepts/encryption">Encryption</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/concepts/admin-controls">P2: Admin Controls</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Phase 2: Best Practices<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/chatengine/docs/best-practices/best-practices">P2: Best Practices Overview</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/best-practices/chatbot-integration">P2: Chatbot Integration</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/best-practices/translation">P2: Language Translation</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/best-practices/moderation">P2: Content Moderation</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/best-practices/storage">P2: Store Messages Externally</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/best-practices/high-occupancy-channels">P2: High Occupancy Events</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/best-practices/friend-lists">P2: Friend Lists</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/best-practices/rate-limiting">P2: Rate Limiting</a></li><li class="navListItem"><a class="navItem" href="/chatengine/docs/best-practices/location-tracking">P2: Location Tracking</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Reference<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/chatengine/docs/resources/resources">Reference</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/pubnub/chat-resource-center/edit/master/docs/concepts/authorization.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Authorization using PubNub Access Manager</h1></header><article><div><span><blockquote>
<p><strong>Note:</strong> Enable <em>Access Manager</em> from the <a href="https://admin.pubnub.com/">Admin Dashboard</a>.</p>
</blockquote>
<p>PubNub Access Manager (PAM) extends PubNub's existing security framework by allowing developers to create and enforce secure access to channels.</p>
<p>Access to a resource is granted or denied via the authorization key (aka <code>authKey</code>) set on the client.
PAM enables developers to generate an arbitrary value for <code>authKey</code> from their server. This makes it possible to integrate a PubNub application with a pre-existing user authentication scheme or Security Authority.</p>
<ul>
<li>Server issues a PAM grant to allow privileges based on a custom <code>authKey</code>.</li>
<li>User application requests authorization from server.</li>
<li>Server sends <code>authKey</code> to user application.</li>
<li>User application sends credentials with <code>authKey</code> to PubNub and subscribes to channel.</li>
<li>PubNub verifies user privileges and allows the subscribe.</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="manage-access-for-user"></a><a href="#manage-access-for-user" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Manage access for user</h2>
<blockquote>
<p><strong>Note:</strong> Obtain the secretKey from the <a href="https://admin.pubnub.com/">Admin Dashboard</a>.</p>
</blockquote>
<p>A server can connect in admin mode by including the <code>secretKey</code> when it initializes PubNub. In admin mode, the server has access to all channels forever.</p>
<p>A server is required to connect with a <code>secretKey</code> to perform grant and revoke operations for users.</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-29-tab-30" class="nav-link active" data-group="group_29" data-tab="tab-group-29-content-30">JavaScript</div><div id="tab-group-29-tab-31" class="nav-link" data-group="group_29" data-tab="tab-group-29-content-31">Swift</div><div id="tab-group-29-tab-32" class="nav-link" data-group="group_29" data-tab="tab-group-29-content-32">Java</div></div><div class="tab-content"><div id="tab-group-29-content-30" class="tab-pane active" data-group="group_29" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /><br /><span class="hljs-keyword">var</span> pubnub = <span class="hljs-keyword">new</span> PubNub({<br />    <span class="hljs-attr">subscribeKey</span>: <span class="hljs-string">"mySubscribeKey"</span>,<br />    <span class="hljs-attr">publishKey</span>: <span class="hljs-string">"myPublishKey"</span>,<br />    <span class="hljs-attr">secretKey</span>: <span class="hljs-string">"secretKey"</span><br />});<br /></code></pre>
</span></div></div><div id="tab-group-29-content-31" class="tab-pane" data-group="group_29" tabindex="-1"><div><span><pre><code class="hljs css language-swift"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /></code></pre>
</span></div></div><div id="tab-group-29-content-32" class="tab-pane" data-group="group_29" tabindex="-1"><div><span><pre><code class="hljs css language-java"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /></code></pre>
</span></div></div></div></div>
<h3><a class="anchor" aria-hidden="true" id="granting-read-write-access"></a><a href="#granting-read-write-access" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Granting read/write access</h3>
<p>The server can grant a user read/write privileges to multiple channels or channel groups with a particular <code>authKey</code>.</p>
<p>The <code>ttl</code> is set in minutes with a default value of 1440 minutes (24 hours). The <code>ttl</code> can also be set to 10080 (1 week) or 0 (forever).</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-33-tab-34" class="nav-link active" data-group="group_33" data-tab="tab-group-33-content-34">JavaScript</div><div id="tab-group-33-tab-35" class="nav-link" data-group="group_33" data-tab="tab-group-33-content-35">Swift</div><div id="tab-group-33-tab-36" class="nav-link" data-group="group_33" data-tab="tab-group-33-content-36">Java</div></div><div class="tab-content"><div id="tab-group-33-content-34" class="tab-pane active" data-group="group_33" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /><br />pubnub.grant(<br />    {<br />        <span class="hljs-attr">channels</span>: [<span class="hljs-string">'room-1'</span>],<br />        <span class="hljs-attr">authKeys</span>: [<span class="hljs-string">'abcxyz123-auth-key'</span>],<br />        <span class="hljs-attr">ttl</span>: <span class="hljs-number">1440</span>,<br />        <span class="hljs-attr">read</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">// false to disallow</span><br />        write: <span class="hljs-literal">true</span>, <span class="hljs-comment">// false to disallow</span><br />    },<br />    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">status</span>) </span>{<br />        <span class="hljs-comment">// handle status</span><br />    }<br />);<br /></code></pre>
</span></div></div><div id="tab-group-33-content-35" class="tab-pane" data-group="group_33" tabindex="-1"><div><span><pre><code class="hljs css language-swift"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /></code></pre>
</span></div></div><div id="tab-group-33-content-36" class="tab-pane" data-group="group_33" tabindex="-1"><div><span><pre><code class="hljs css language-java"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /></code></pre>
</span></div></div></div></div>
<p>Wildcard notation can be used to grant access on multiple channels. You can go one level deep using wildcards.</p>
<ul>
<li>a.* - you can grant on all channels that begin with <code>a.</code></li>
<li>a.b.* - grant will not work. If you grant on a.b.<em>, the grant will treat a.b.</em> as a single channel with name a.b.*.</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="granting-read-only-access"></a><a href="#granting-read-only-access" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Granting read-only access</h3>
<p>You can grant read-only permissions for anyone trying to perform read actions (subscribe, history, etc).</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-37-tab-38" class="nav-link active" data-group="group_37" data-tab="tab-group-37-content-38">JavaScript</div><div id="tab-group-37-tab-39" class="nav-link" data-group="group_37" data-tab="tab-group-37-content-39">Swift</div><div id="tab-group-37-tab-40" class="nav-link" data-group="group_37" data-tab="tab-group-37-content-40">Java</div></div><div class="tab-content"><div id="tab-group-37-content-38" class="tab-pane active" data-group="group_37" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /><br />pubnub.grant(<br />    {<br />        <span class="hljs-attr">channels</span>: [<span class="hljs-string">'room-1'</span>],<br />        <span class="hljs-attr">authKeys</span>: [<span class="hljs-string">'abcxyz123-auth-key'</span>],<br />        <span class="hljs-attr">ttl</span>: <span class="hljs-number">1440</span>,<br />        <span class="hljs-attr">read</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// false to disallow</span><br />        write: <span class="hljs-literal">false</span>, <span class="hljs-comment">// false to disallow</span><br />    },<br />    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">status</span>) </span>{<br />        <span class="hljs-comment">// handle status</span><br />    }<br />);<br /></code></pre>
</span></div></div><div id="tab-group-37-content-39" class="tab-pane" data-group="group_37" tabindex="-1"><div><span><pre><code class="hljs css language-swift"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /></code></pre>
</span></div></div><div id="tab-group-37-content-40" class="tab-pane" data-group="group_37" tabindex="-1"><div><span><pre><code class="hljs css language-java"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /></code></pre>
</span></div></div></div></div>
<h3><a class="anchor" aria-hidden="true" id="granting-write-only-access"></a><a href="#granting-write-only-access" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Granting write-only access</h3>
<p>You can grant write-only permissions for anyone trying to perform write actions only.</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-41-tab-42" class="nav-link active" data-group="group_41" data-tab="tab-group-41-content-42">JavaScript</div><div id="tab-group-41-tab-43" class="nav-link" data-group="group_41" data-tab="tab-group-41-content-43">Swift</div><div id="tab-group-41-tab-44" class="nav-link" data-group="group_41" data-tab="tab-group-41-content-44">Java</div></div><div class="tab-content"><div id="tab-group-41-content-42" class="tab-pane active" data-group="group_41" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /><br />pubnub.grant(<br />    {<br />        <span class="hljs-attr">channels</span>: [<span class="hljs-string">'room-1'</span>],<br />        <span class="hljs-attr">authKeys</span>: [<span class="hljs-string">'abcxyz123-auth-key'</span>],<br />        <span class="hljs-attr">ttl</span>: <span class="hljs-number">1440</span>,<br />        <span class="hljs-attr">read</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// false to disallow</span><br />        write: <span class="hljs-literal">true</span>, <span class="hljs-comment">// false to disallow</span><br />    },<br />    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">status</span>) </span>{<br />        <span class="hljs-comment">// handle status</span><br />    }<br />);<br /></code></pre>
</span></div></div><div id="tab-group-41-content-43" class="tab-pane" data-group="group_41" tabindex="-1"><div><span><pre><code class="hljs css language-swift"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /></code></pre>
</span></div></div><div id="tab-group-41-content-44" class="tab-pane" data-group="group_41" tabindex="-1"><div><span><pre><code class="hljs css language-java"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /></code></pre>
</span></div></div></div></div>
<h3><a class="anchor" aria-hidden="true" id="revoking-access"></a><a href="#revoking-access" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Revoking access</h3>
<p>To revoke access permission(s) for one or more users, call <code>pubnub.grant()</code> and set the appropriate permission(s) to <code>false</code>:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-45-tab-46" class="nav-link active" data-group="group_45" data-tab="tab-group-45-content-46">JavaScript</div><div id="tab-group-45-tab-47" class="nav-link" data-group="group_45" data-tab="tab-group-45-content-47">Swift</div><div id="tab-group-45-tab-48" class="nav-link" data-group="group_45" data-tab="tab-group-45-content-48">Java</div></div><div class="tab-content"><div id="tab-group-45-content-46" class="tab-pane active" data-group="group_45" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /><br />pubnub.grant(<br />    {<br />        <span class="hljs-attr">channels</span>: [<span class="hljs-string">'room-1'</span>],<br />        <span class="hljs-attr">authKeys</span>: [<span class="hljs-string">'abcxyz123-auth-key'</span>],<br />        <span class="hljs-attr">read</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// false to disallow</span><br />        write: <span class="hljs-literal">false</span>, <span class="hljs-comment">// false to disallow</span><br />    },<br />    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">status</span>) </span>{<br />        <span class="hljs-comment">// handle status</span><br />    }<br />);<br /></code></pre>
</span></div></div><div id="tab-group-45-content-47" class="tab-pane" data-group="group_45" tabindex="-1"><div><span><pre><code class="hljs css language-swift"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /></code></pre>
</span></div></div><div id="tab-group-45-content-48" class="tab-pane" data-group="group_45" tabindex="-1"><div><span><pre><code class="hljs css language-java"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /></code></pre>
</span></div></div></div></div>
<p>If you omit the <code>authKeys</code> parameter, access is revoked globally for <strong>all</strong> users who are subscribed to the channel.</p>
<h2><a class="anchor" aria-hidden="true" id="manage-access-with-channel-groups"></a><a href="#manage-access-with-channel-groups" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Manage access with channel groups</h2>
<p>When granting or revoking permissions based on channel groups vs. channels, just use the channel_group attribute instead of the channel attribute in your PAM call as needed.</p>
<ul>
<li><code>write</code> permission on a channel group is not allowed.</li>
<li><code>read</code> permission on a channel group is completely seperate from the read permissions on the underlying channels -- that is, if you denied read on CH1, added CH1 to channel group CG1, and granted access to read on CG1, the deny on CH1 is ignored, since you are accessing it through the channel group, which is granted read true.</li>
<li>an additional <code>manage</code> permission is available, which enabled or disables the ability to add/remove channels to/from a channel group.</li>
</ul>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-49-tab-50" class="nav-link active" data-group="group_49" data-tab="tab-group-49-content-50">JavaScript</div><div id="tab-group-49-tab-51" class="nav-link" data-group="group_49" data-tab="tab-group-49-content-51">Swift</div><div id="tab-group-49-tab-52" class="nav-link" data-group="group_49" data-tab="tab-group-49-content-52">Java</div></div><div class="tab-content"><div id="tab-group-49-content-50" class="tab-pane active" data-group="group_49" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /><br />pubnub.grant(<br />    {<br />        <span class="hljs-attr">channelGroups</span>: [<span class="hljs-string">'family'</span>],<br />        <span class="hljs-attr">authKeys</span>: [<span class="hljs-string">'abcxyz123-auth-key'</span>],<br />        <span class="hljs-attr">ttl</span>: <span class="hljs-number">1440</span>,  <span class="hljs-comment">// 0 for infinite</span><br />        read: <span class="hljs-literal">true</span>, <span class="hljs-comment">// false to disallow</span><br />        write: <span class="hljs-literal">true</span>, <span class="hljs-comment">// false to disallow</span><br />        manage: <span class="hljs-literal">true</span> <span class="hljs-comment">// false to disallow</span><br />    },<br />    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">status</span>) </span>{<br />        <span class="hljs-comment">// handle status</span><br />    }<br />);<br /></code></pre>
</span></div></div><div id="tab-group-49-content-51" class="tab-pane" data-group="group_49" tabindex="-1"><div><span><pre><code class="hljs css language-swift"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /></code></pre>
</span></div></div><div id="tab-group-49-content-52" class="tab-pane" data-group="group_49" tabindex="-1"><div><span><pre><code class="hljs css language-java"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /></code></pre>
</span></div></div></div></div>
<h2><a class="anchor" aria-hidden="true" id="connecting-to-pubnub-from-client"></a><a href="#connecting-to-pubnub-from-client" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Connecting to PubNub from client</h2>
<p>If Access Manager is enabled on your key, all users will need to provide a valid authKey to connect to PubNub. The authKey can be a random string that is generated and managed by your server. It can be an UUID, or an authentication token from OAuth, Facebook Connect, or any other authentication service.</p>
<p>It is not recommended to share authKeys amongst users if you need manage separate access individual users or revoke access for a single user.</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-53-tab-54" class="nav-link active" data-group="group_53" data-tab="tab-group-53-content-54">JavaScript</div><div id="tab-group-53-tab-55" class="nav-link" data-group="group_53" data-tab="tab-group-53-content-55">Swift</div><div id="tab-group-53-tab-56" class="nav-link" data-group="group_53" data-tab="tab-group-53-content-56">Java</div></div><div class="tab-content"><div id="tab-group-53-content-54" class="tab-pane active" data-group="group_53" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /><br /><span class="hljs-keyword">var</span> pubnub = <span class="hljs-keyword">new</span> PubNub ({<br />    <span class="hljs-attr">publishKey</span>: <span class="hljs-string">"myPublishKey"</span><br />    subscribeKey: <span class="hljs-string">"mySubscribeKey"</span>,<br />    <span class="hljs-attr">uuid</span>: myUUID,<br />    <span class="hljs-attr">authKey</span>: myAuthKey <span class="hljs-comment">//generated by security authority</span><br />});<br /></code></pre>
</span></div></div><div id="tab-group-53-content-55" class="tab-pane" data-group="group_53" tabindex="-1"><div><span><pre><code class="hljs css language-swift"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /></code></pre>
</span></div></div><div id="tab-group-53-content-56" class="tab-pane" data-group="group_53" tabindex="-1"><div><span><pre><code class="hljs css language-java"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /></code></pre>
</span></div></div></div></div>
<h2><a class="anchor" aria-hidden="true" id="handling-permission-denied-errors"></a><a href="#handling-permission-denied-errors" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Handling Permission Denied Errors</h2>
<p>Once your grants are in place, if during normal operation the client is denied access to a resource due to a PAM issue, the user application will receive a <code>403 Permission Denied</code> response. At this point, the user application should request another <code>authKey</code> from your server.</p>
<p>Use <code>setAuthKey()</code> method to update the authKey for the user.</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-57-tab-58" class="nav-link active" data-group="group_57" data-tab="tab-group-57-content-58">JavaScript</div><div id="tab-group-57-tab-59" class="nav-link" data-group="group_57" data-tab="tab-group-57-content-59">Swift</div><div id="tab-group-57-tab-60" class="nav-link" data-group="group_57" data-tab="tab-group-57-content-60">Java</div></div><div class="tab-content"><div id="tab-group-57-content-58" class="tab-pane active" data-group="group_57" tabindex="-1"><div><span><pre><code class="hljs css language-js"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /><br />pubnub.setAuthKey(<span class="hljs-string">'my_new_auth_key'</span>)<br /></code></pre>
</span></div></div><div id="tab-group-57-content-59" class="tab-pane" data-group="group_57" tabindex="-1"><div><span><pre><code class="hljs css language-swift"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /></code></pre>
</span></div></div><div id="tab-group-57-content-60" class="tab-pane" data-group="group_57" tabindex="-1"><div><span><pre><code class="hljs css language-java"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> need a sample here</span><br /></code></pre>
</span></div></div></div></div>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/chatengine/docs/concepts/authentication"><span class="arrow-prev">← </span><span>P2: Authentication</span></a><a class="docs-next button" href="/chatengine/docs/concepts/push-notifications"><span>Push Notifications</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#manage-access-for-user">Manage access for user</a><ul class="toc-headings"><li><a href="#granting-read-write-access">Granting read/write access</a></li><li><a href="#granting-read-only-access">Granting read-only access</a></li><li><a href="#granting-write-only-access">Granting write-only access</a></li><li><a href="#revoking-access">Revoking access</a></li></ul></li><li><a href="#manage-access-with-channel-groups">Manage access with channel groups</a></li><li><a href="#connecting-to-pubnub-from-client">Connecting to PubNub from client</a></li><li><a href="#handling-permission-denied-errors">Handling Permission Denied Errors</a></li></ul></nav></div><footer id="footer" class="footer-section"><div id="footer-top"><div class="grey footer-top "><div class="container"><div class="row"><div class="footer-col-1 foot-col"><h4 class="footer-title">Solutions</h4><ul class=" footer-menu-list"><li><a title="ChatEngine" href="https://www.pubnub.com/products/chatengine/">ChatEngine<mark class="tm-mark">™</mark></a></li><li><a title="Project EON" href="https://www.pubnub.com/developers/eon/">Project EON</a></li><li><a title="Chat " href="https://www.pubnub.com/solutions/chat/">Chat </a></li><li><a title="IoT Device Control" href="https://www.pubnub.com/solutions/iot/">IoT Device Control</a></li><li><a title="Realtime Updates" href="https://www.pubnub.com/solutions/realtime-updates/">Realtime Updates</a></li><li><a title="Collaboration" href="https://www.pubnub.com/solutions/collaboration/">Collaboration </a></li><li><a title="Multiplayer Gaming" href="https://www.pubnub.com/solutions/multiplayer-games/">Multiplayer Gaming</a></li><li><a title="Healthcare" href="https://www.pubnub.com/solutions/healthcare/">Healthcare</a></li><li><a title="Cryptocurrency" href="https://www.pubnub.com/solutions/cryptocurrency/">Cryptocurrency</a></li><li><a title="WebRTC and VoIP Signaling" href="https://www.pubnub.com/solutions/webrtc-and-voip-signaling/">WebRTC and VoIP Signaling</a></li><li><a title="Customer Case Studies" href="https://www.pubnub.com/customers/">Customer Case Studies</a></li></ul></div><div class="footer-col-2 foot-col"><h4 class="footer-title">Features</h4><ul class="footer-menu-list"><li><a title="Data Stream Network" href="https://www.pubnub.com/products/global-data-stream-network/">Data Stream Network</a></li><li><a title="Realtime Messaging" href="https://www.pubnub.com/products/realtime-messaging/">Realtime Messaging</a></li><li><a title="Device &amp; User Presence" href="https://www.pubnub.com/products/presence/">Device &amp; User Presence</a></li><li><a title="PubNub Functions" href="https://www.pubnub.com/products/functions/">PubNub Functions</a></li><li><a title="Security &amp; Compliance" href="https://www.pubnub.com/products/security-overview/">Security &amp; Compliance</a></li><li><a title="GDPR Resource Center" href="https://www.pubnub.com/products/security/gdpr/">GDPR Resource Center</a></li><li><a title="Mobile Push Notifications" href="https://www.pubnub.com/products/mobile-push-notifications/"> Mobile Push Notifications</a></li><li><a title="Product Feature Updates" href="https://www.pubnub.com/docs/feature-updates">Product Feature Updates</a></li></ul></div><div class="footer-col-3 foot-col"><h4 class="footer-title">Developers</h4><ul class="footer-menu-list"><li><a title="70+ SDKs and Full Documentation" href="https://www.pubnub.com/docs">70+ SDKs and Full Documentation</a></li><li><a title="How PubNub Works" href="https://www.pubnub.com/developers/tech/how-pubnub-works/">How PubNub Works</a></li><li><a title="Quickstarts" href="https://www.pubnub.com/docs/getting-started-guides/pubnub-publish-subscribe">Quickstarts</a></li><li><a title="Tutorials &amp; Webinars" href="https://www.pubnub.com/developers/training/">Tutorials &amp; Webinars</a></li><li><a title="Dev Console" href="https://www.pubnub.com/docs/console">Dev Console</a></li><li><a title="Realtime Demo Applications" href="https://www.pubnub.com/developers/demos/">Realtime Demo Applications</a></li><li><a title="Realtime Data Streams Examples" href="https://www.pubnub.com/developers/realtime-data-streams/">Realtime Data Streams Examples</a></li></ul></div><div class="footer-col-4 foot-col"><h4 class="footer-title">Support</h4><ul class="footer-menu-list"><li><a title="Help &amp; Support" href="https://support.pubnub.com/support/home">Help &amp; Support</a></li><li><a title="Resource Center" href="https://www.pubnub.com/learn/resources/">Resource Center</a></li><li><a title="Knowledge Base" href="https://support.pubnub.com/support/solutions">Knowledge Base</a></li><li><a title="Glossary" href="https://www.pubnub.com/learn/glossary/">Glossary</a></li><li><a title="Professional Services" href="https://www.pubnub.com/services/professional-services/">Professional Services</a></li><li><a title="Network Status" target="_blank" rel="noopener" href="http://status.pubnub.com/">Network Status</a></li></ul> <a href="https://www.pubnub.com/schedule-a-demo/" title="Schedule a Demo" class="button-widget schedule-demo-footer">Schedule a Demo</a></div></div></div></div><div class="white  footer-top"><div class="container"><div class="row"><div class="foot-col"><a href="https://www.pubnub.com/" title="PubNub secure global data stream network and easy to use API for realtime Apps" class="footer-logo"></a></div><div class="foot-col"><ul class=" footer-menu-list"><li><a title="About PubNub" href="https://www.pubnub.com/company/">About PubNub</a></li><li><a title="Leadership" href="https://www.pubnub.com/company/leadership/">Leadership</a></li><li><a title="Careers" href="https://www.pubnub.com/company/careers/">Careers</a></li><li><a title="PubNub Ambassador" href="https://www.pubnub.com/pubnub-ambassador/">PubNub Ambassador</a></li></ul></div><div class="foot-col"><ul class=" footer-menu-list"><li><a title="Blog" href="https://www.pubnub.com/blog/">Blog</a></li><li><a title="Events" href="https://www.pubnub.com/company/events/">Events</a></li><li><a title="News Coverage" href="https://www.pubnub.com/company/news-coverage/">News Coverage</a></li><li><a title="Press Releases" href="https://www.pubnub.com/company/press-releases/">Press Releases</a></li></ul></div><div class="foot-col"><ul class=" footer-menu-list"><li><a title="Partnerships" href="https://www.pubnub.com/partners/">Partnerships</a></li><li><a title="Contact PubNub" href="https://www.pubnub.com/company/contact-us/">Contact PubNub</a></li><li><a title="Privacy Policy" href="https://www.pubnub.com/privacy-policy/">Privacy Policy</a></li><li><a title="Terms and Conditions" href="https://www.pubnub.com/terms-and-conditions/">Terms and Conditions</a></li></ul></div></div></div></div></div><div id="footer-bottom" class="footer-bottom"><div class="container"><div class="row  "><div class="bottom-left"><div class="copyright">© 2010 - 2019 PubNub Inc. All Rights Reserved. PUBNUB, ChatEngine, the PUBNUB logo and the ChatEngine logo are trademarks or registered trademarks of PubNub Inc. in the U.S. and other countries as well.</div></div><div class="bottom-right"><div class="social-footer"> <a rel="noopener" href="https://www.facebook.com/PubNub" class="social-link facebook" title="Follow PubNub on FaceBook" target="_blank">FaceBook</a>  <a rel="noopener" href="https://twitter.com/PubNub" class="social-link twitter" title="Follow PubNub on Twitter" target="_blank">Twitter</a><a rel="noopener" href="https://www.linkedin.com/company/pubnub" class="social-link linkedin" title="Follow PubNub on LinkedIn" target="_blank">LinkedIn</a><a rel="noopener" href="https://www.youtube.com/c/PubNub" class="social-link youtube" title="Follow PubNub on YouTube" target="_blank">YouTube</a><a rel="noopener" href="https://vimeo.com/pubnub" class="social-link vimeo" title="Follow PubNub on Vimeo" target="_blank">Vimeo</a></div></div></div></div></div></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '00b03685d9ddabed232cf720f6db94e6',
                indexName: 'dev_CRC',
                inputSelector: '#search_input_react',
                algoliaOptions: {}
              });
            </script></body></html>